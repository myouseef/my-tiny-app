# Backend API - ุฏููู ุงูุงุณุชุฎุฏุงู ๐

ูุฐุง ูู ุงูุฎุงุฏู ุงูุฎููู (Backend) ูููุดุฑูุน ุงูุชุนููููุ ูุจูู ุจุงุณุชุฎุฏุงู Node.js ู Express.

## ๐ ุงููุญุชููุงุช

- [ุงููุชุทูุจุงุช](#ุงููุชุทูุจุงุช)
- [ุงูุชุซุจูุช](#ุงูุชุซุจูุช)
- [ุงูุฅุนุฏุงุฏ](#ุงูุฅุนุฏุงุฏ)
- [ุงูุชุดุบูู](#ุงูุชุดุบูู)
- [API Endpoints](#api-endpoints)
- [ูููู ุงููุดุฑูุน](#ูููู-ุงููุดุฑูุน)

---

## ุงููุชุทูุจุงุช

ูุจู ุงูุจุฏุกุ ุชุฃูุฏ ูู ุชุซุจูุช:

- **Node.js** (v18 ุฃู ุฃุญุฏุซ) - [ุชุญููู](https://nodejs.org/)
- **PostgreSQL** (v14 ุฃู ุฃุญุฏุซ) - [ุชุญููู](https://www.postgresql.org/download/)
- **npm** (ูุฃุชู ูุน Node.js)

---

## ุงูุชุซุจูุช

### 1. ุชุซุจูุช ุงูููุชุจุงุช

```bash
cd backend
npm install
```

ุงูููุชุจุงุช ุงููุซุจุชุฉ:
- `express` - ุฅุทุงุฑ ุนูู ุงูุฎุงุฏู
- `pg` - ููุงุชุตุงู ุจู PostgreSQL
- `bcrypt` - ูุชุดููุฑ ูููุงุช ุงููุฑูุฑ
- `jsonwebtoken` - ูุฅูุดุงุก JWT tokens
- `cors` - ููุณูุงุญ ุจุทูุจุงุช ูู Frontend
- `dotenv` - ููุฑุงุกุฉ ูุชุบูุฑุงุช ุงูุจูุฆุฉ

---

## ุงูุฅุนุฏุงุฏ

### 1. ุฅูุดุงุก ููู .env

ุงูุณุฎ ููู `.env.example` ุฅูู `.env`:

```bash
copy .env.example .env
```

### 2. ุชุนุฏูู ููู .env

ุงูุชุญ ููู `.env` ูุนุฏูู ุงูููู ุญุณุจ ุฅุนุฏุงุฏุงุชู:

```env
# ูุงุนุฏุฉ ุงูุจูุงูุงุช
DATABASE_URL=postgresql://postgres:YOUR_PASSWORD@localhost:5432/learning_db

# ููุชุงุญ JWT (ุงุณุชุฎุฏู ููุชุงุญ ุนุดูุงุฆู ููู)
JWT_SECRET=your_super_secret_key_change_this

# ุฅุนุฏุงุฏุงุช ุงูุฎุงุฏู
PORT=5000
NODE_ENV=development

# ุฑุงุจุท Frontend
FRONTEND_URL=http://localhost:3000
```

**ููู**: ุงุณุชุจุฏู `YOUR_PASSWORD` ุจูููุฉ ูุฑูุฑ PostgreSQL ุงูุฎุงุตุฉ ุจู!

### 3. ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช

ุฑุงุฌุน ุฏููู ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู `db/SETUP-GUIDE.md`

ุจุงุฎุชุตุงุฑ:

```bash
# ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช
psql -U postgres
CREATE DATABASE learning_db;
\q

# ุชุดุบูู ุณูุฑูุจุช ุงูุฅุนุฏุงุฏ
npm run db:init

# ุงุฎุชุจุงุฑ ุงูุงุชุตุงู
npm run db:test
```

---

## ุงูุชุดุบูู

### ุชุดุบูู ุงูุฎุงุฏู

```bash
npm start
```

ุฃู:

```bash
npm run dev
```

ูุฌุจ ุฃู ุชุฑู:

```
==================================================
๐ ุงูุฎุงุฏู ูุนูู ุงูุขู!
๐ ุงูุนููุงู: http://localhost:5000
๐ ุงูุจูุฆุฉ: development
==================================================

โ ุชู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช ุจูุฌุงุญ!
```

### ุฅููุงู ุงูุฎุงุฏู

ุงุถุบุท `Ctrl+C` ูู Terminal

---

## API Endpoints

### 1. ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ

```http
GET /
```

**ุงูุงุณุชุฌุงุจุฉ:**
```json
{
  "message": "ูุฑุญุจุงู! ุงูุฎุงุฏู ูุนูู ุจูุฌุงุญ ๐",
  "version": "1.0.0",
  "endpoints": {
    "health": "/api/health",
    "auth": "/api/auth/*",
    "user": "/api/user/*"
  }
}
```

### 2. ูุญุต ุงูุตุญุฉ (Health Check)

```http
GET /api/health
```

**ุงูุงุณุชุฌุงุจุฉ:**
```json
{
  "status": "ok",
  "message": "ุงูุฎุงุฏู ูุนูู ุจุดูู ุตุญูุญ",
  "database": "connected",
  "timestamp": "2024-01-15T10:30:45.123Z",
  "environment": "development"
}
```

### 3. ุชุณุฌูู ุงูุฏุฎูู (ุณูุชู ุฅุถุงูุชู ูู ุงููููุฉ ุงูุชุงููุฉ)

```http
POST /api/auth/login
```

### 4. ูุนูููุงุช ุงููุณุชุฎุฏู (ุณูุชู ุฅุถุงูุชู ูู ุงููููุฉ ุงูุชุงููุฉ)

```http
GET /api/user/profile
```

---

## ูููู ุงููุดุฑูุน

```
backend/
โโโ db/                      # ูููุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
โ   โโโ init.sql            # ุณูุฑูุจุช ุฅูุดุงุก ุงูุฌุฏุงูู
โ   โโโ run-init.js         # ุชุดุบูู init.sql
โ   โโโ test-connection.js  # ุงุฎุชุจุงุฑ ุงูุงุชุตุงู
โ   โโโ generate-hash.js    # ุชูููุฏ ูููุงุช ูุฑูุฑ ูุดูุฑุฉ
โ   โโโ README.md           # ุชูุซูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
โ   โโโ SETUP-GUIDE.md      # ุฏููู ุงูุฅุนุฏุงุฏ ุงูุชูุตููู
โ
โโโ middleware/              # ุงูุจุฑูุฌูุงุช ุงููุณูุทุฉ (ุณูุชู ุฅุถุงูุชูุง)
โ   โโโ auth.js             # ุงูุชุญูู ูู JWT
โ
โโโ routes/                  # ุงููุณุงุฑุงุช (ุณูุชู ุฅุถุงูุชูุง)
โ   โโโ auth.js             # ูุณุงุฑุงุช ุงููุตุงุฏูุฉ
โ   โโโ user.js             # ูุณุงุฑุงุช ุงููุณุชุฎุฏู
โ
โโโ server.js               # ุงูููู ุงูุฑุฆูุณู ููุฎุงุฏู โ
โโโ package.json            # ูุนูููุงุช ุงููุดุฑูุน ูุงูููุชุจุงุช
โโโ .env                    # ูุชุบูุฑุงุช ุงูุจูุฆุฉ (ูุง ููุฑูุน ุนูู Git)
โโโ .env.example            # ูููุฐุฌ ููุชุบูุฑุงุช ุงูุจูุฆุฉ
โโโ README.md               # ูุฐุง ุงูููู
```

---

## ุงูุณูุฑูุจุชุงุช ุงููุชุงุญุฉ

```bash
# ุชุดุบูู ุงูุฎุงุฏู
npm start

# ุชุดุบูู ุงูุฎุงุฏู (ููุณ start)
npm run dev

# ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช
npm run db:init

# ุงุฎุชุจุงุฑ ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
npm run db:test
```

---

## ุงุฎุชุจุงุฑ ุงูุฎุงุฏู

### 1. ุจุงุณุชุฎุฏุงู ุงููุชุตูุญ

ุงูุชุญ ุงููุชุตูุญ ูุงุฐูุจ ุฅูู:
- http://localhost:5000
- http://localhost:5000/api/health

### 2. ุจุงุณุชุฎุฏุงู curl

```bash
# ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
curl http://localhost:5000

# ูุญุต ุงูุตุญุฉ
curl http://localhost:5000/api/health
```

### 3. ุจุงุณุชุฎุฏุงู Postman ุฃู Thunder Client

1. ุงูุชุญ Postman ุฃู Thunder Client
2. ุฃูุดุฆ ุทูุจ GET ุฌุฏูุฏ
3. ุฃุฏุฎู ุงูุฑุงุจุท: `http://localhost:5000/api/health`
4. ุงุถุบุท Send

---

## ุญู ุงููุดุงูู ุงูุดุงุฆุนุฉ

### โ "Error: listen EADDRINUSE"

**ุงููุดููุฉ**: ุงููููุฐ 5000 ูุณุชุฎุฏู ุจุงููุนู

**ุงูุญู**:
1. ุฃููู ุงูุนูููุฉ ุงูุฃุฎุฑู ุนูู ุงููููุฐ 5000
2. ุฃู ุบููุฑ PORT ูู ููู .env

### โ "password authentication failed"

**ุงููุดููุฉ**: ูููุฉ ูุฑูุฑ PostgreSQL ุฎุงุทุฆุฉ

**ุงูุญู**:
1. ุชุฃูุฏ ูู ูููุฉ ุงููุฑูุฑ ูู DATABASE_URL ูู ููู .env
2. ุฃู ุฃุนุฏ ุชุนููู ูููุฉ ุงููุฑูุฑ:
```bash
psql -U postgres
ALTER USER postgres PASSWORD 'new_password';
```

### โ "database does not exist"

**ุงููุดููุฉ**: ูุงุนุฏุฉ ุงูุจูุงูุงุช ุบูุฑ ููุฌูุฏุฉ

**ุงูุญู**:
```bash
psql -U postgres
CREATE DATABASE learning_db;
\q
```

### โ "Cannot find module"

**ุงููุดููุฉ**: ุงูููุชุจุงุช ุบูุฑ ูุซุจุชุฉ

**ุงูุญู**:
```bash
npm install
```

---

## ุงูุฎุทูุงุช ุงูุชุงููุฉ

ุจุนุฏ ุฅุนุฏุงุฏ ุงูุฎุงุฏู ุจูุฌุงุญ:

1. โ ุงููููุฉ 1: ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช - **ููุชููุฉ**
2. โ ุงููููุฉ 2: ุจูุงุก Backend API - ุงูุฅุนุฏุงุฏ ุงูุฃุณุงุณู - **ููุชููุฉ**
3. โญ๏ธ ุงููููุฉ 3: ุจูุงุก ูุธุงู ุงููุตุงุฏูุฉ ูู Backend
4. โญ๏ธ ุงููููุฉ 4: ุจูุงุก Middleware ููุญูุงูุฉ
5. โญ๏ธ ุงููููุฉ 5: ุจูุงุก Protected Endpoints

---

## ููุงุญุธุงุช ูููุฉ

โ๏ธ **ุงูุฃูุงู**:
- ูุง ุชุฑูุน ููู `.env` ุนูู GitHub
- ุงุณุชุฎุฏู ูููุงุช ูุฑูุฑ ูููุฉ
- ุบููุฑ JWT_SECRET ูู ุงูุฅูุชุงุฌ

โ **ุฃูุถู ุงูููุงุฑุณุงุช**:
- ุฑุงุฌุน ุงูุฃุฎุทุงุก ูู Console
- ุงุณุชุฎุฏู Postman ูุงุฎุชุจุงุฑ APIs
- ุงูุฑุฃ ุงูุชูุซูู ูู ูุฌูุฏ `db/`

---

## ุงูููุงุฑุฏ

- [Express Documentation](https://expressjs.com/)
- [PostgreSQL Documentation](https://www.postgresql.org/docs/)
- [Node.js pg Library](https://node-postgres.com/)
- [JWT Documentation](https://jwt.io/)

---

**ูุจุฑูู! ุงูุฎุงุฏู ุฌุงูุฒ ููุนูู! ๐**
